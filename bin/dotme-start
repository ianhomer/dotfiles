#!/usr/bin/env sh

#
# Prepare environment during bootstrap
#

if [[ ! -d ~/projects ]] ; then
  echo "Creating ~/projects directory"
  mkdir ~/projects/
fi

if ! command -v bash > /dev/null 2>&1; then
  if command -v apk > /dev/null 2>&1; then
    echo "bash not installed, installing with apk"
    apk get bash
  else
    echo "bash not installed"
    exit
  fi
fi

if [[ "$OSTYPE" =~ ^linux-android ]]; then
  echo "Removing default termux properties since this is dotfiles managed"
  if [[ -f ~/.termux/termux.properties ]] ; then
    rm ~/.termux/termux.properties
  fi
  echo "Setting up storage"
  if [[ ! -d ~/storage ]] ; then
    termux-setup-storage
  fi
fi

