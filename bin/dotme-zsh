#!/usr/bin/env zsh
#
# Configure zsh
#

should-run -m 7 dotme-zsh || exit

_DIR="$(cd "$(dirname "${ZSH_ARGZERO}")" >/dev/null 2>&1 && pwd)"
. ${_DIR}/functions/log.sh

o_o "Configuring zsh shell"

if [[ ! -d ~/.oh-my-zsh ]] ; then
  git clone -c core.eol=lf -c core.autocrlf=false \
    -c fsck.zeroPaddedFilemode=ignore \
    -c fetch.fsck.zeroPaddedFilemode=ignore \
    -c receive.fsck.zeroPaddedFilemode=ignore \
    --depth=1 --branch "master" \
    "https://github.com/ohmyzsh/ohmyzsh.git" ~/.oh-my-zsh
fi

should-run -fu dotme-zsh
