#!/usr/bin/env python3

#
# Report on configuration
#

import os, sys, getopt, subprocess
from pathlib import Path

def usage():
  scriptName = os.path.basename(__file__)
  print(f"{scriptName} -h|b")

def heading(heading, separator = "."):
  print(heading)
  print(separator * 40)

def reportBrew():
  heading("Brew")
  os.system("brew leaves | column -c 80")

def main(argv):
  heading("dotfiles System Report"," ")
  try:
    opts, argv = getopt.getopt(argv,
      "hb"
    )
  except getopt.GetoptError:
    print(e)
    usage()
    sys.exit(2)
  for opt, arg in opts:
    if opt == '-h':
      usage()
      sys.exit()
    elif opt == '-b':
      reportBrew()

if __name__ == "__main__":
  main(sys.argv[1:])
