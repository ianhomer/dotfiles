#!/bin/bash

#
# Report on work in local git repositories that need pushing to remote
#

# Show a concise report of git status
function showDirectoryStatus {
  #printf '\033[1;33m'
  #echo "-->"
  printf '\033[0;35m'
  git rev-parse --show-toplevel
  printf '\033[0;37m'
  git branch -v | grep "\[ahead\|\[behind"

  printf '\033[0m'
  git status --porcelain
}

# Show status of recently entered directories
for d in `get-git-directories` ; do
  (cd $d ; showDirectoryStatus)
done
